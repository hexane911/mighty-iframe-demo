import {
  __commonJS,
  require_react
} from "./chunk-TRALEDFT.js";

// node_modules/mighty-iframe/dist/mightyIframeIntegration.react.js
var require_mightyIframeIntegration_react = __commonJS({
  "node_modules/mighty-iframe/dist/mightyIframeIntegration.react.js"(exports, module) {
    !function(e, t) {
      "object" == typeof exports && "object" == typeof module ? module.exports = t(require_react()) : "function" == typeof define && define.amd ? define(["react"], t) : "object" == typeof exports ? exports.MightyIframeReact = t(require_react()) : e.MightyIframeReact = t(e.react);
    }(exports, (e) => (() => {
      "use strict";
      var t = { 155: (t2) => {
        t2.exports = e;
      } }, n = {};
      function r(e2) {
        var i2 = n[e2];
        if (void 0 !== i2) return i2.exports;
        var o2 = n[e2] = { exports: {} };
        return t[e2](o2, o2.exports, r), o2.exports;
      }
      r.n = (e2) => {
        var t2 = e2 && e2.__esModule ? () => e2.default : () => e2;
        return r.d(t2, { a: t2 }), t2;
      }, r.d = (e2, t2) => {
        for (var n2 in t2) r.o(t2, n2) && !r.o(e2, n2) && Object.defineProperty(e2, n2, { enumerable: true, get: t2[n2] });
      }, r.o = (e2, t2) => Object.prototype.hasOwnProperty.call(e2, t2), r.r = (e2) => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e2, "__esModule", { value: true });
      };
      var i = {};
      r.r(i), r.d(i, { MightyPage: () => U, MightyWidget: () => c, MightyWrapper: () => B });
      var o = r(155), a = r.n(o);
      const c = function(e2) {
        var t2 = e2.partnerId, n2 = e2.targetUrl, r2 = e2.percent, i2 = void 0 === r2 ? "40%" : r2, o2 = e2.theme, c2 = void 0 === o2 ? "dark" : o2, d2 = e2.children, s2 = e2.logoSrc;
        return a().createElement("mighty-widget", { partnerId: t2, targetUrl: n2, percent: i2, theme: c2, logoSrc: s2 }, d2);
      };
      function d(e2) {
        return d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e3) {
          return typeof e3;
        } : function(e3) {
          return e3 && "function" == typeof Symbol && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
        }, d(e2);
      }
      function s(e2, t2) {
        for (var n2 = 0; n2 < t2.length; n2++) {
          var r2 = t2[n2];
          r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, l(r2.key), r2);
        }
      }
      function l(e2) {
        var t2 = function(e3, t3) {
          if ("object" != d(e3) || !e3) return e3;
          var n2 = e3[Symbol.toPrimitive];
          if (void 0 !== n2) {
            var r2 = n2.call(e3, "string");
            if ("object" != d(r2)) return r2;
            throw new TypeError("@@toPrimitive must return a primitive value.");
          }
          return String(e3);
        }(e2);
        return "symbol" == d(t2) ? t2 : t2 + "";
      }
      var u = function() {
        return e2 = function e3(t3, n2, r2) {
          !function(e4, t4) {
            if (!(e4 instanceof t4)) throw new TypeError("Cannot call a class as a function");
          }(this, e3), this.theme = n2 || "dark", this.logoSrc = t3 || "", this.loaderStyleId = "partner-loader-style", this.loaderId = "partner-loader", this.pageMode = r2 || false;
        }, t2 = [{ key: "addStyles", value: function() {
          if (!document.querySelector("#".concat(this.loaderStyleId))) {
            var e3 = document.createElement("style");
            e3.id = this.loaderStyleId, e3.textContent = "\n           #".concat(this.loaderId, ".container {\n  position: ").concat(this.pageMode ? "fixed" : "absolute", ";\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2000;\n  overflow: hidden;\n\n  background: radial-gradient(\n        134.84% 202.54% at 99.3% 0%,\n        rgba(98, 126, 234, 0.3) 3%,\n        rgba(0, 0, 0, 0.02) 130%), #1c1d26;\n}\n\n#").concat(this.loaderId, ".container.light {\n  background: #fff;\n}\n\n#").concat(this.loaderId, ".container * {\n  box-sizing: border-box;\n}\n\n#").concat(this.loaderId, ".container.closing {\n    opacity: 0; \n    animation: closing 0.3s;\n}\n\n#").concat(this.loaderId, " .center-positioned {\n  top: 50%;\n  left: 50%;\n  translate: -50% -50%;\n  position: absolute;\n}\n\n#").concat(this.loaderId, " .animation {\n  position: absolute;\n  border-radius: 50%;\n  z-index: 2022;\n  display: flex;\n  justify-content: center;\n  width: 200px;\n  height: 200px;\n}\n\n#").concat(this.loaderId, " .logo-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  background: white;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  overflow: hidden;\n}\n\n#").concat(this.loaderId, " .logo-container.playing {\n  animation: logoBoxAnim 2s ease-in-out infinite;\n}\n\n@keyframes logoBoxAnim {\n  0% {\n    scale: 1;\n  }\n  35%,\n  50% {\n    scale: 0.8;\n  }\n  75% {\n    scale: 1.15;\n  }\n  85%,\n  100% {\n    transition-timing-function: ease-in;\n    scale: 1;\n  }\n}\n\n#").concat(this.loaderId, " .partner-logo {\n  object-fit: cover;\n  max-width: 100%;\n  max-height: 100%;\n  min-height: 100%;\n  padding: none !important;\n}\n\n#").concat(this.loaderId, " .bg-round {\n  border-radius: 50%;\n  border: solid #ffffff10;\n  z-index: 2002;\n  width: 240px;\n  height: 240px;\n  border-width: 34px;\n}\n\n#").concat(this.loaderId, ' .bg-round.playing {\n  animation: borderBoxAnim 2s ease infinite;\n}\n\n@keyframes borderBoxAnim {\n  0% {\n    scale: 1;\n  }\n  40%,\n  50% {\n    scale: 1.2;\n  }\n  80% {\n    scale: 0.9;\n  }\n  87% {\n    scale: 1.08;\n  }\n  100% {\n    scale: 1;\n  }\n}\n\n@property --fill-rad {\n  syntax: "<angle>";\n  inherits: false;\n  initial-value: 0deg;\n}\n\n#').concat(this.loaderId, " .arc {\n  --b: 10px; /* the boder thickness */\n  --fill-rad: 0deg; /* control the progression */\n  opacity: 0.3;\n  width: 200px;\n  aspect-ratio: 1;\n  padding: var(--b);\n  box-sizing: border-box;\n  border-radius: 50%;\n  background: linear-gradient(#ffffff4d, #ffffff4d);\n  --_g: /var(--b) var(--b) no-repeat radial-gradient(50% 50%, #000\n        calc(100% - 1px), #0000);\n  mask: top var(--_g),\n    calc(50% + 50% * sin(var(--fill-rad)))\n      calc(50% - 50% * cos(var(--fill-rad))) var(--_g),\n    linear-gradient(#0000 0 0) content-box intersect,\n    conic-gradient(#000 var(--fill-rad), #0000 0);\n}\n\n#").concat(this.loaderId, " .arc-white {\n  --b: 4px; /* the boder thickness */\n  background: linear-gradient(#fff, #fff) !important;\n}\n\n#").concat(this.loaderId, " .arc.light {\n  background: linear-gradient(#1111114d, #1111114d);\n}\n\n#").concat(this.loaderId, " .arc-white.light {\n  background: linear-gradient(#111, #111) !important;\n}\n\n#").concat(this.loaderId, " .border-box {\n  width: 145%;\n  height: 145%;\n}\n\n#").concat(this.loaderId, " .border-thick {\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n}\n\n#").concat(this.loaderId, " .border-thin {\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  z-index: 2003;\n}\n\n#").concat(this.loaderId, " .border-thin.playing {\n  animation: borderAnimation 2s ease infinite;\n  scale: -0.98 0.98;\n}\n\n#").concat(this.loaderId, " .border-thick.playing {\n  animation: borderAnimation 2s ease infinite;\n  scale: -1 1;\n}\n\n#").concat(this.loaderId, " .second.playing {\n  animation-name: secondBorderAnimation !important;\n}\n\n#").concat(this.loaderId, " .third.playing {\n  animation-name: thirdBorderAnimation  !important ;\n}\n\n@keyframes borderAnimation {\n  0% {\n    --fill-rad: 0deg;\n    rotate: 0deg;\n    opacity: 1;\n  }\n  50% {\n    --fill-rad: 240deg;\n  }\n  \n  70% {\n    transition-timing-function: ease;\n    --fill-rad: 0deg;\n    opacity: 1;\n\n\n  }\n  80% {\n    rotate: 745deg;\n  }\n  82%,\n  100% {\n    opacity: 0;\n  }\n}\n\n@keyframes secondBorderAnimation {\n  0% {\n    --fill-rad: 0deg;\n    rotate: 0deg;\n    opacity: 0;\n  }\n  40% {\n    opacity: 0;\n  }\n  50% {\n    --fill-rad: 220deg;\n  }\n  70% {\n    opacity: 1;\n\n    transition-timing-function: ease;\n    --fill-rad: 0deg;\n\n  }\n  80% {\n    rotate: 725deg;\n  }\n  82%,\n  100% {\n    opacity: 0;\n  }\n}\n\n@keyframes thirdBorderAnimation {\n  0% {\n    --fill-rad: 0deg;\n    rotate: 0deg;\n    opacity: 0;\n  }\n  40% {\n    opacity: 0;\n  }\n  50% {\n    --fill-rad: 200deg;\n  }\n  70% {\n    opacity: 1;\n\n    transition-timing-function: ease;\n    --fill-rad: 0deg;\n\n  }\n  80% {\n    rotate: 705deg;\n  }\n  82%,\n  100% {\n    opacity: 0;\n  }\n}\n\n@keyframes closing {\n    from {\n        opacity: 1;\n    }\n    to {\n        opacity: 0;\n    }\n}\n"), document.head.appendChild(e3);
          }
        } }, { key: "closeLoader", value: function(e3) {
          e3.addEventListener("animationend", function() {
            e3.remove();
          }), e3.classList.add("closing");
        } }, { key: "showLoader", value: function() {
          var e3 = document.querySelector(this.pageMode ? "mighty-page" : "#frame-box");
          if (!document.getElementById(this.loaderId) && e3) {
            var t3 = document.createElement("div"), n2 = document.createElement("div"), r2 = document.createElement("div"), i2 = document.createElement("img"), o2 = document.createElement("div"), a2 = document.createElement("div"), c2 = document.createElement("div"), d2 = document.createElement("div"), s2 = document.createElement("div"), l2 = document.createElement("div"), u2 = document.createElement("div"), h2 = document.createElement("div"), p2 = document.createElement("div"), f2 = document.createElement("div");
            t3.classList.add("container", this.theme), t3.setAttribute("id", this.loaderId), n2.classList.add("animation", "center-positioned"), r2.classList.add("logo-container", "playing"), i2.classList.add("partner-logo"), o2.classList.add("bg-round", "center-positioned", "playing"), a2.classList.add("border-box", "center-positioned"), c2.classList.add("border-box", "center-positioned"), d2.classList.add("border-box", "center-positioned"), s2.classList.add("border-thick", "center-positioned", "arc", "playing", this.theme), l2.classList.add("border-thick", "center-positioned", "arc", "playing", this.theme, "second"), u2.classList.add("border-thick", "center-positioned", "arc", "playing", this.theme, "third"), h2.classList.add("border-thin", "center-positioned", "arc", "arc-white", "playing", this.theme), p2.classList.add("border-thin", "center-positioned", "arc", "arc-white", "playing", this.theme, "second"), f2.classList.add("border-thin", "center-positioned", "arc", "arc-white", "playing", this.theme, "third"), a2.appendChild(s2), a2.appendChild(h2), c2.appendChild(l2), c2.appendChild(p2), d2.appendChild(u2), d2.appendChild(f2), o2.appendChild(a2), o2.appendChild(c2), o2.appendChild(d2), i2.setAttribute("src", this.logoSrc), r2.appendChild(i2), n2.appendChild(r2), t3.appendChild(o2), t3.appendChild(n2), this.addStyles(), e3.appendChild(t3), this.checkForLoadingEnd(t3);
          }
        } }, { key: "checkForLoadingEnd", value: function(e3) {
          var t3 = this;
          window.addEventListener("message", function(n2) {
            "loaded" === n2.data && t3.closeLoader(e3);
          });
        } }], t2 && s(e2.prototype, t2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        var e2, t2;
      }();
      function h(e2) {
        return h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e3) {
          return typeof e3;
        } : function(e3) {
          return e3 && "function" == typeof Symbol && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
        }, h(e2);
      }
      function p(e2, t2) {
        for (var n2 = 0; n2 < t2.length; n2++) {
          var r2 = t2[n2];
          r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, f(r2.key), r2);
        }
      }
      function f(e2) {
        var t2 = function(e3, t3) {
          if ("object" != h(e3) || !e3) return e3;
          var n2 = e3[Symbol.toPrimitive];
          if (void 0 !== n2) {
            var r2 = n2.call(e3, "string");
            if ("object" != h(r2)) return r2;
            throw new TypeError("@@toPrimitive must return a primitive value.");
          }
          return String(e3);
        }(e2);
        return "symbol" == h(t2) ? t2 : t2 + "";
      }
      var g = function() {
        return e2 = function e3() {
          !function(e4, t3) {
            if (!(e4 instanceof t3)) throw new TypeError("Cannot call a class as a function");
          }(this, e3), this.currentSidebar = null, this.initializedTriggers = /* @__PURE__ */ new Map(), this.setTriggers = /* @__PURE__ */ new Set(), this.mightySidebarId = "mighty-course-sidebar", this.mightyStyleId = "mighty-sidebar-styles", this.baseUrl = "http://test.mighty.study", this.partnerKey = "099d94c60458dd7429e95eaca9cb622c9246a17a7e35d8859284051c48b3fd11", this.sidebarMapTriggers = {}, this.logoSrc = "", this.addStyles(), this.initObserverWhenReady(), console.log(_());
        }, t2 = [{ key: "addStyles", value: function() {
          if (!document.querySelector("#".concat(this.mightyStyleId))) {
            console.log(_());
            var e3 = document.createElement("style");
            e3.id = this.mightyStyleId, e3.textContent = "\n      #".concat(this.mightySidebarId, " {\n        position: fixed;\n        top: 0;\n        right: 0;\n        transform: translateX(100%);\n        width: var(--mighty-expanded-width);\n        height: 100%;\n        color: #AFB4B8;\n        background: radial-gradient(100% 60% at 100% 100%, rgba(98, 126, 234, 0.2) 0%, rgba(0, 0, 0, 0.02) 97.05%), rgb(28, 29, 38);\n        z-index: 1000;\n        display: flex;\n        flex-direction: column;\n        transition: transform 0.3s ease, width 0.3s ease, height 0.3s ease;\n      }\n\n      #").concat(this.mightySidebarId, ".light {\n        background: radial-gradient(73.04% 270.4% at 142.59% 81.5%, rgba(98, 126, 234, 0.2) 0%, rgba(0, 0, 0, 0.02) 97.05%), rgb(255, 255, 255);;\n        color: #111111;\n      }\n\n\n      #").concat(this.mightySidebarId, ".light div {\n        color: #111111;\n      }\n\n      #").concat(this.mightySidebarId, ".mighty-sidebar-expanded {\n        width: 100%;\n      }\n\n      #").concat(this.mightySidebarId, ".mighty-sidebar-expanded .mighty-button-close {\n        opacity: 0;\n        pointer-events: none;\n      }\n\n      #").concat(this.mightySidebarId, ".mighty-sidebar-open {\n        transform: translateX(0);\n      }\n\n      #").concat(this.mightySidebarId, " .mighty-header-sidebar {\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        padding: 10px;\n      }\n      #").concat(this.mightySidebarId, " .mighty-sidebar-button {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 32px;\n        height: 32px;\n        border-radius: 5px;\n        color: rgba(255, 255, 255, 0.4);\n        transition: all 0.3s ease;\n        cursor: pointer;\n        background: transparent;\n      }\n      #").concat(this.mightySidebarId, " .mighty-sidebar-button:hover {\n        background: rgba(255, 255, 255, 0.15);\n      }\n      #").concat(this.mightySidebarId, " .frame-box {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n      #").concat(this.mightySidebarId, " iframe {\n        width: 100%;\n        height: 100%;\n        border: none;\n      }\n     @media (max-width: 992px) {\n        #").concat(this.mightySidebarId, " {\n          top: auto;\n          bottom: 0;\n          transform: translateY(100%);\n          width: 100%;\n          height: 80%;\n          right: 0;\n          border-radius: 20px 20px 0 0;\n        }\n        #").concat(this.mightySidebarId, ".mighty-sidebar-open {\n          transform: translateY(0);\n        }\n        #").concat(this.mightySidebarId, ".mighty-sidebar-expanded {\n          height: 100%;\n        }\n      }\n    "), document.head.appendChild(e3);
          }
        } }, { key: "createSidebar", value: function(e3) {
          var t3 = this;
          document.documentElement.style.setProperty("--mighty-expanded-width", this.percent);
          var n2 = document.createElement("div");
          n2.id = this.mightySidebarId;
          var r2 = document.createElement("div"), i2 = document.createElement("div");
          r2.classList.add("mighty-header-sidebar"), r2.style.display = "flex", r2.style.justifyContent = "flex-start", r2.style.alignItems = "center", r2.style.padding = "10px", i2.classList.add("frame-box"), i2.setAttribute("id", "frame-box");
          var o2 = function(e4, t4, n3) {
            var r3 = document.createElement("div");
            return r3.innerHTML = e4, r3.classList.add("mighty-sidebar-button"), n3 && r3.classList.add(n3), r3.onclick = t4, r3;
          }, a2 = o2('<svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 14.6654L7.66667 7.9987L1 1.33203M10.3333 14.6654L17 7.9987L10.3333 1.33203" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg>', function() {
            t3.closeSidebar(n2);
          }, "mighty-button-close"), c2 = false, d2 = o2('<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.7852 15.3131L8.71817 9.24609M8.71817 9.24609L8.71817 15.3131M8.71817 9.24609L14.7852 9.24609" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17.2148 17.7383L23.2818 23.8053M23.2818 23.8053V17.7383M23.2818 23.8053H17.2148" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg>', function() {
            c2 = !c2, n2.classList.toggle("mighty-sidebar-expanded");
          });
          r2.appendChild(d2), r2.appendChild(a2), n2.appendChild(r2);
          var s2 = document.createElement("iframe");
          return i2.appendChild(s2), n2.appendChild(i2), { sidebar: n2, iframe: s2 };
        } }, { key: "closeSidebar", value: function(e3) {
          var t3 = this;
          return new Promise(function(n2) {
            e3.classList.contains("mighty-sidebar-expanded") ? (e3.classList.remove("mighty-sidebar-expanded"), setTimeout(function() {
              e3.classList.remove("mighty-sidebar-open"), setTimeout(function() {
                document.querySelector("#".concat(t3.mightySidebarId)) && document.body.removeChild(document.querySelector("#".concat(t3.mightySidebarId))), t3.currentSidebar = null, n2();
              }, 300);
            }, 300)) : (e3.classList.remove("mighty-sidebar-open"), setTimeout(function() {
              document.querySelector("#".concat(t3.mightySidebarId)) && document.body.removeChild(document.querySelector("#".concat(t3.mightySidebarId))), t3.currentSidebar = null, n2();
            }, 300));
          });
        } }, { key: "openSidebar", value: function(e3, t3, n2, r2, i2) {
          var o2 = this;
          this.currentSidebar ? this.closeSidebar(this.currentSidebar).then(function() {
            o2.createAndOpenSidebar(e3, t3, n2, r2, i2);
          }) : this.createAndOpenSidebar(e3, t3, n2, r2, i2);
        } }, { key: "createAndOpenSidebar", value: function(e3) {
          var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null, r2 = arguments.length > 3 ? arguments[3] : void 0, i2 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : "";
          this.percent = r2 || "40%";
          var o2 = this.createSidebar(r2), a2 = o2.sidebar, c2 = o2.iframe, d2 = null !== t3 && null !== (null == t3 ? void 0 : t3.courseId), s2 = null == n2 ? _() : n2, l2 = s2 ? "&theme=".concat(s2) : "&", h2 = "".concat(this.baseUrl, "/space/").concat(e3, "?partnerID=").concat(e3, "&partnerToken=").concat(this.partnerKey).concat(l2);
          d2 && (h2 = "".concat(this.baseUrl, "/courses/").concat(t3.courseId), null !== t3.chapterId && (h2 += "/".concat(t3.chapterId)), null !== t3.lessonId && (h2 += "/".concat(t3.lessonId)), h2 += "?partnerID=".concat(e3, "&partnerToken=").concat(this.partnerKey).concat(l2)), c2.src = h2, document.body.appendChild(a2), setTimeout(function() {
            a2.classList.add("mighty-sidebar-open"), n2 && a2.classList.add(n2);
          }, 10), this.currentSidebar = a2, new u(i2, n2).showLoader();
        } }, { key: "parseCourseFromUrl", value: function(e3) {
          if (!e3) return null;
          var t3 = e3.indexOf("/courses/");
          if (-1 === t3) return null;
          var n2 = e3.slice(t3 + 9).split("/").filter(Boolean), r2 = { courseId: null, chapterId: null, lessonId: null };
          return n2.length >= 3 ? (r2.lessonId = n2[n2.length - 1], r2.chapterId = n2[n2.length - 2], r2.courseId = n2[n2.length - 3]) : 2 === n2.length ? (r2.chapterId = n2[n2.length - 1], r2.courseId = n2[n2.length - 2]) : 1 === n2.length && (r2.courseId = n2[n2.length - 1]), r2.courseId || r2.chapterId || r2.lessonId ? r2 : null;
        } }, { key: "initSidebar", value: function(e3, t3, n2, r2, i2, o2) {
          var a2 = this;
          if (M) {
            console.log({ selector: e3, percentW: i2 }), console.log(this.sidebarMapTriggers[e3]);
            var c2 = i2 || null, d2 = document.querySelector(e3);
            if (this.setTriggers.add(e3), this.sidebarMapTriggers[e3] = { course: n2, theme: r2, partnerId: t3, percent: c2 }, d2) {
              if (this.initializedTriggers.has(e3)) {
                var s2 = this.initializedTriggers.get(e3).handler;
                d2.removeEventListener("click", s2);
              }
              var l2 = function() {
                a2.openSidebar(t3, n2, r2, c2, o2);
              };
              d2.addEventListener("click", l2), this.initializedTriggers.set(e3, { element: d2, handler: l2, partnerId: t3, course: n2, theme: r2, percent: c2, logoSrc: o2 });
            } else console.error('Element with selector "'.concat(e3, '" not found.'));
          } else console.error("Package not authorized. Please provide a valid partnerId.");
        } }, { key: "initObserverWhenReady", value: function() {
          var e3 = this;
          document.body ? this.observeDOM() : document.addEventListener("DOMContentLoaded", function() {
            return e3.observeDOM();
          });
        } }, { key: "observeDOM", value: function() {
          var e3 = this;
          new MutationObserver(function(t3) {
            t3.forEach(function(t4) {
              "childList" === t4.type && (t4.removedNodes.forEach(function(t5) {
                1 === t5.nodeType && e3.removeTrigger(t5);
              }), t4.addedNodes.forEach(function(t5) {
                1 === t5.nodeType && e3.reinitializeTriggers(t5);
              }));
            });
          }).observe(document.body, { childList: true, subtree: true });
        } }, { key: "removeTrigger", value: function(e3) {
          var t3 = this;
          this.initializedTriggers.forEach(function(n2, r2) {
            (n2.element === e3 || e3.contains(n2.element)) && (n2.element.removeEventListener("click", n2.handler), t3.initializedTriggers.delete(r2));
          });
        } }, { key: "reinitializeTriggers", value: function(e3) {
          var t3 = this;
          this.setTriggers.forEach(function(n2, r2) {
            (e3.matches(r2) || e3.querySelector(r2)) && t3.initSidebar(r2, t3.sidebarMapTriggers[r2].partnerId, t3.sidebarMapTriggers[r2].course, t3.sidebarMapTriggers[r2].theme, t3.sidebarMapTriggers[r2].percent, t3.sidebarMapTriggers[r2].logoSrc);
          });
        } }], t2 && p(e2.prototype, t2), Object.defineProperty(e2, "prototype", { writable: false }), e2;
        var e2, t2;
      }();
      function b(e2) {
        return b = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e3) {
          return typeof e3;
        } : function(e3) {
          return e3 && "function" == typeof Symbol && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
        }, b(e2);
      }
      function y(e2, t2) {
        for (var n2 = 0; n2 < t2.length; n2++) {
          var r2 = t2[n2];
          r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, m(r2.key), r2);
        }
      }
      function m(e2) {
        var t2 = function(e3, t3) {
          if ("object" != b(e3) || !e3) return e3;
          var n2 = e3[Symbol.toPrimitive];
          if (void 0 !== n2) {
            var r2 = n2.call(e3, "string");
            if ("object" != b(r2)) return r2;
            throw new TypeError("@@toPrimitive must return a primitive value.");
          }
          return String(e3);
        }(e2);
        return "symbol" == b(t2) ? t2 : t2 + "";
      }
      function v(e2) {
        var t2 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
        return v = function(e3) {
          if (null === e3 || !function(e4) {
            try {
              return -1 !== Function.toString.call(e4).indexOf("[native code]");
            } catch (t3) {
              return "function" == typeof e4;
            }
          }(e3)) return e3;
          if ("function" != typeof e3) throw new TypeError("Super expression must either be null or a function");
          if (void 0 !== t2) {
            if (t2.has(e3)) return t2.get(e3);
            t2.set(e3, n2);
          }
          function n2() {
            return function(e4, t3, n3) {
              if (w()) return Reflect.construct.apply(null, arguments);
              var r2 = [null];
              r2.push.apply(r2, t3);
              var i2 = new (e4.bind.apply(e4, r2))();
              return n3 && S(i2, n3.prototype), i2;
            }(e3, arguments, I(this).constructor);
          }
          return n2.prototype = Object.create(e3.prototype, { constructor: { value: n2, enumerable: false, writable: true, configurable: true } }), S(n2, e3);
        }, v(e2);
      }
      function w() {
        try {
          var e2 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
          }));
        } catch (e3) {
        }
        return (w = function() {
          return !!e2;
        })();
      }
      function S(e2, t2) {
        return S = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e3, t3) {
          return e3.__proto__ = t3, e3;
        }, S(e2, t2);
      }
      function I(e2) {
        return I = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e3) {
          return e3.__proto__ || Object.getPrototypeOf(e3);
        }, I(e2);
      }
      var k = function(e2) {
        function t2() {
          var e3;
          return function(e4, t3) {
            if (!(e4 instanceof t3)) throw new TypeError("Cannot call a class as a function");
          }(this, t2), (e3 = function(e4, t3, n3) {
            return t3 = I(t3), function(e5, t4) {
              if (t4 && ("object" == b(t4) || "function" == typeof t4)) return t4;
              if (void 0 !== t4) throw new TypeError("Derived constructors may only return object or undefined");
              return function(e6) {
                if (void 0 === e6) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e6;
              }(e5);
            }(e4, w() ? Reflect.construct(t3, n3 || [], I(e4).constructor) : t3.apply(e4, n3));
          }(this, t2)).partnerId = e3.getAttribute("partnerid") || null, e3.targetUrl = e3.getAttribute("targeturl") || null, e3.percent = e3.getAttribute("percent") || "40%", e3.theme = e3.getAttribute("theme") || _(), e3.logoSrc = e3.getAttribute("logoSrc") || "", e3.sidebarInstance = window.mightySidebar, console.log("render mighty widget"), e3;
        }
        return function(e3, t3) {
          if ("function" != typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
          e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), Object.defineProperty(e3, "prototype", { writable: false }), t3 && S(e3, t3);
        }(t2, e2), n2 = t2, i2 = [{ key: "observedAttributes", get: function() {
          return ["partnerid", "targeturl", "percent", "theme", "logoSrc"];
        } }], (r2 = [{ key: "connectedCallback", value: function() {
          this.updateAttributes();
          var e3 = this.firstElementChild;
          e3 && e3.addEventListener("click", this.handleClick.bind(this));
        } }, { key: "disconnectedCallback", value: function() {
          var e3 = this.firstElementChild;
          e3 && e3.removeEventListener("click", this.handleClick.bind(this));
        } }, { key: "attributeChangedCallback", value: function(e3, t3, n3) {
          t3 !== n3 && this.updateAttributes();
        } }, { key: "updateAttributes", value: function() {
          this.partnerId = this.getAttribute("partnerid") || null, this.targetUrl = this.getAttribute("targeturl") || null, this.percent = this.getAttribute("percent") || "40%", this.theme = this.getAttribute("theme") || _(), this.logoSrc = this.getAttribute("logoSrc") || "";
        } }, { key: "handleClick", value: function() {
          if (this.updateAttributes(), this.partnerId) {
            this.sidebarInstance || (this.sidebarInstance = new g());
            var e3 = this.sidebarInstance.parseCourseFromUrl(this.targetUrl);
            this.sidebarInstance.openSidebar(this.partnerId, e3, this.theme, this.percent, this.logoSrc);
          } else console.error("partnerId is not defined");
        } }]) && y(n2.prototype, r2), i2 && y(n2, i2), Object.defineProperty(n2, "prototype", { writable: false }), n2;
        var n2, r2, i2;
      }(v(HTMLElement));
      function x(e2) {
        return x = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e3) {
          return typeof e3;
        } : function(e3) {
          return e3 && "function" == typeof Symbol && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
        }, x(e2);
      }
      function E(e2, t2) {
        for (var n2 = 0; n2 < t2.length; n2++) {
          var r2 = t2[n2];
          r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, L(r2.key), r2);
        }
      }
      function L(e2) {
        var t2 = function(e3, t3) {
          if ("object" != x(e3) || !e3) return e3;
          var n2 = e3[Symbol.toPrimitive];
          if (void 0 !== n2) {
            var r2 = n2.call(e3, "string");
            if ("object" != x(r2)) return r2;
            throw new TypeError("@@toPrimitive must return a primitive value.");
          }
          return String(e3);
        }(e2);
        return "symbol" == x(t2) ? t2 : t2 + "";
      }
      function O(e2) {
        var t2 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
        return O = function(e3) {
          if (null === e3 || !function(e4) {
            try {
              return -1 !== Function.toString.call(e4).indexOf("[native code]");
            } catch (t3) {
              return "function" == typeof e4;
            }
          }(e3)) return e3;
          if ("function" != typeof e3) throw new TypeError("Super expression must either be null or a function");
          if (void 0 !== t2) {
            if (t2.has(e3)) return t2.get(e3);
            t2.set(e3, n2);
          }
          function n2() {
            return function(e4, t3, n3) {
              if (j()) return Reflect.construct.apply(null, arguments);
              var r2 = [null];
              r2.push.apply(r2, t3);
              var i2 = new (e4.bind.apply(e4, r2))();
              return n3 && C(i2, n3.prototype), i2;
            }(e3, arguments, T(this).constructor);
          }
          return n2.prototype = Object.create(e3.prototype, { constructor: { value: n2, enumerable: false, writable: true, configurable: true } }), C(n2, e3);
        }, O(e2);
      }
      function j() {
        try {
          var e2 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
          }));
        } catch (e3) {
        }
        return (j = function() {
          return !!e2;
        })();
      }
      function C(e2, t2) {
        return C = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(e3, t3) {
          return e3.__proto__ = t3, e3;
        }, C(e2, t2);
      }
      function T(e2) {
        return T = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(e3) {
          return e3.__proto__ || Object.getPrototypeOf(e3);
        }, T(e2);
      }
      var A = function(e2) {
        function t2() {
          var e3;
          return function(e4, t3) {
            if (!(e4 instanceof t3)) throw new TypeError("Cannot call a class as a function");
          }(this, t2), (e3 = function(e4, t3, n3) {
            return t3 = T(t3), function(e5, t4) {
              if (t4 && ("object" == x(t4) || "function" == typeof t4)) return t4;
              if (void 0 !== t4) throw new TypeError("Derived constructors may only return object or undefined");
              return function(e6) {
                if (void 0 === e6) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e6;
              }(e5);
            }(e4, j() ? Reflect.construct(t3, n3 || [], T(e4).constructor) : t3.apply(e4, n3));
          }(this, t2)).partnerId = e3.getAttribute("partnerid") || null, e3.targetUrl = e3.getAttribute("targeturl") || null, e3.theme = e3.getAttribute("theme") || _(), e3.logoSrc = e3.getAttribute("logoSrc") || "", e3.iframe = null, e3.baseUrl = "https://test.mighty.study", e3.partnerKey = "099d94c60458dd7429e95eaca9cb622c9246a17a7e35d8859284051c48b3fd11", e3.sidebarInstance = window.mightySidebar, e3;
        }
        return function(e3, t3) {
          if ("function" != typeof t3 && null !== t3) throw new TypeError("Super expression must either be null or a function");
          e3.prototype = Object.create(t3 && t3.prototype, { constructor: { value: e3, writable: true, configurable: true } }), Object.defineProperty(e3, "prototype", { writable: false }), t3 && C(e3, t3);
        }(t2, e2), n2 = t2, i2 = [{ key: "observedAttributes", get: function() {
          return ["partnerid", "targeturl", "theme"];
        } }], (r2 = [{ key: "connectedCallback", value: function() {
          this.renderIframe(), this.style.width = "100%", this.style.height = "100vh", this.style.display = "block";
        } }, { key: "attributeChangedCallback", value: function(e3, t3, n3) {
          t3 !== n3 && this.renderIframe();
        } }, { key: "renderIframe", value: function() {
          this.iframe && this.removeChild(this.iframe);
          var e3 = this.getAttribute("partnerid"), t3 = this.getAttribute("targeturl"), n3 = this.getAttribute("logoSrc");
          if (e3) {
            var r3 = this.getAttribute("theme") || _(), i3 = r3 ? "&theme=".concat(r3) : "&", o2 = document.createElement("iframe");
            if (o2.width = "100%", o2.height = "100%", o2.style.border = "none", o2.style.display = "block", console.log(t3), t3) {
              var a2 = this.sidebarInstance.parseCourseFromUrl(this.targetUrl);
              console.log(a2);
              var c2 = null !== a2 && null !== (null == a2 ? void 0 : a2.courseId), d2 = "".concat(this.baseUrl, "/space/").concat(e3, "?partnerID=").concat(e3, "&partnerToken=").concat(this.partnerKey).concat(i3);
              c2 && (d2 = "".concat(this.baseUrl, "/courses/").concat(a2.courseId), null !== a2.chapterId && (d2 += "/".concat(a2.chapterId)), null !== a2.lessonId && (d2 += "/".concat(a2.lessonId)), d2 += "?partnerID=".concat(e3, "&partnerToken=").concat(this.partnerKey).concat(i3)), console.log(d2), o2.src = d2;
            }
            this.appendChild(o2), this.iframe = o2, new u(n3, r3, true).showLoader();
          } else console.error("partnerId is not defined");
        } }]) && E(n2.prototype, r2), i2 && E(n2, i2), Object.defineProperty(n2, "prototype", { writable: false }), n2;
        var n2, r2, i2;
      }(O(HTMLElement)), M = true, P = "dark";
      function _() {
        return P;
      }
      const B = function(e2) {
        var t2 = e2.theme, n2 = void 0 === t2 ? "dark" : t2, r2 = e2.children;
        return (0, o.useEffect)(function() {
          !function() {
            M = true, P = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "dark";
            var e3 = new g();
            window.initSidebar = function(t3) {
              var n3 = t3.selector, r3 = t3.partnerId, i2 = t3.course, o2 = t3.theme, a2 = t3.percent;
              return e3.initSidebar(n3, r3, i2, o2, a2);
            }, window.mightySidebar = e3, customElements.get("mighty-widget") || customElements.define("mighty-widget", k), customElements.get("mighty-page") || customElements.define("mighty-page", A);
          }(n2);
        }, [n2]), a().createElement("div", null, r2);
      }, U = function(e2) {
        var t2 = e2.partnerId, n2 = e2.targetUrl, r2 = e2.theme, i2 = void 0 === r2 ? "dark" : r2, o2 = e2.logoSrc, c2 = void 0 === o2 ? "" : o2;
        return a().createElement("mighty-page", { partnerId: t2, targetUrl: n2, theme: i2, logoSrc: c2 });
      };
      return i;
    })());
  }
});
export default require_mightyIframeIntegration_react();
//# sourceMappingURL=mighty-iframe.js.map
